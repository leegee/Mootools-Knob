<html lang='en'>
<head>
	<title>MooTools Knob</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta charset="utf-8">
	
	<meta name="author" content="Lee Goddard (http://www.leegoddard.net/)" />
	<meta name="copyright" content="Copyright (c) 2011 Lee Goddard" />
	<meta name="description" content="A rotary knob control for MooTools"/>
	<meta name="keywords" content="knob, rotary, ui, mootools, javascript"/>

	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/mootools/1.4/mootools-yui-compressed.js"></script>
	<script type="text/javascript" src="mootools-more.js"/></script>
	<script type="text/javascript" src="../Source/Knob.js"></script>
 
	<script type="text/javascript">
	window.addEvent('domready', function() {
		var valueDisplaly = $('knob-js-value');
		var knob = new Knob({
			element: 'knob-js',
			onTick: function(){
				valueDisplaly.set('text', this.value );			
			}
		});
	});
	</script>
	
	<style>
	section { 
		border: 1px solid gray;
		margin-bottom: 1em;
		padding: 1em;
	}
	
	xmp {
		background: #ddd;
		border: 1px solid #aaa;
	}
	
	.rotary,
	.rotary2  {
		outline: 0;
		border: 1px solid black;
		background: silver;
		text-align: center;
		border-radius: 50%;
		font-weight: bold;
		font-size:42pt;
		line-height: 42pt;
		width: 42pt;
		height: 42pt;
	}
	
	.rotary2 {
		background: gold;
		border: 2px solid gray;
		background-image: -moz-radial-gradient(12pt 12pt 45deg, circle cover, yellow 0%, orange 100%, red 95%);
		background-image: -webkit-radial-gradient(12pt 12pt, circle cover, yellow, orange);
		background-image: radial-gradient(12pt 12pt 45deg, circle cover, yellow 0%, orange 100%, red 95%);
	}
	
	.mooknob-label {
		color: black;	
	}
			</style>	
    	</head>
    	
    	
    	<body>
	<header><h1>MooTools Knob</h1></header>

	<section>
		<h2>An HTML knob with a range of +/-180</h2>
		<xmp>
	<span id='knob-html1'
		class='mooknob'
		aria-valuemin='-180'
		aria-valuemax='180'
		data-value='0'
		style='background:#aaa; margin-left:200px;font-size:32pt' 
	></span>		
		</xmp>
		<p>The result:
			<span id='knob-html1'
			aria-valuemin='-180'
			aria-valuemax='180'
			data-value='0'
			style='background:#aaa; margin-left:200px;font-size:32pt' class='mooknob'></span>
		</p>
	</section>
	
	<section>
		<h2>An HTML knob with more CSS:</h2>
		<xmp>
	<span id='knob-html2'
		class='mooknob'
		data-addpointer='false'
		style='margin-left:200px;
			font-size:32pt;
			border-color: black;
			background: silver;
			text-align: center;
			border-radius: 50%;
			width: 1.2em;
			height: 1.2em; 
	'>⇪</span>		
		</xmp>
		<p>The result:
			<span id='knob-html2'
			class='mooknob'
			data-addpointer='false'
			style='margin-left:200px;
				border: 1px solid black;
				background: silver;
				text-align: center;
				border-radius: 50%;
				font-size:25pt;
				width: 32pt;
				height: 32pt;
		'>⇪</span>
		</p>

	<p>
		As above, with default pointer, and still with an implict range of +/-100, 
		with initial values of -100, -50, 0, 50, 100, set in
		the 'calling' element's <code>data-value</code> field:
	</p>
	<p>
		<span style='margin-left:1em' data-value=-100 class='rotary mooknob'></span>
		<span style='margin-left:1em' data-value=-50 class='rotary mooknob'></span>
		<span style='margin-left:1em' data-value=0 class='rotary mooknob'></span>
		<span style='margin-left:1em' data-value=50 class='rotary mooknob'></span>
		<span style='margin-left:1em' data-value=100 class='rotary mooknob'></span>
	</p>
	
		
	</section>
	
	<section>
	<h2>JavaScript API</h2>
	<p>
		A CSS (lightly) styled knob controlled by JavaScript, with a callback to
		update the value display, and a default range of +/-100:
	</p>

<xmp>
	<script type="text/javascript">
	window.addEvent('domready', function() {
		var valueDisplaly = $('knob-js-value');
		var knob = new Knob({
			element: 'knob-js',
			onTick: function(){
				valueDisplaly.set('text', this.value );			
			}
		});
	});
	</script>
	
	<span id='knob-js'></span>
	&mdash; value <span id='knob-js-value'></span>
</xmp>
	
	<p>The result:
		<span id='knob-js'
		style='margin-left:200px;
			border: 1px solid black;
			background: silver;
			text-align: center;
			border-radius: 50%;
			font-size:28pt;
			width: 32pt;
			height: 32pt;
		'></span>
		&mdash; value <span id='knob-js-value'></span>
	</p>
	</section>

	<section>
		<h2>As previous, but without JavaScript, plus two-way interation with input field</h2>
		<xmp>
		<span id='knob-jsX' class='mooknob rotary2' data-monitor='knob-jsX-value'></span>
		&mdash; value <span id='knob-jsX-value'></span>
		</xmp>

		<p>The result:
			<span id='knob-js99'
				class='mooknob rotary2'
				data-monitor='knob-js99-value'
				style='margin-left:20px'></span>
			&mdash; value <input type='text' value='12' id='knob-js99-value'></span>
		</p>
	</section>
	

	<section>
		<h2>HTML onComplete Callback</h2>
		<xmp>
			<span id='knob-js95'
				class='mooknob rotary2'
				style='background:steelblue; margin-left:20px'
				data-monitor='knob-js95-value'
				aria-valuemin=-100
				aria-valuemax=100
				data-value=0
				data-forceint=1
				data-oncomplete=' alert("My value is "+this.value) '></span>
			&mdash; Value 
			<input type='text' value='' id='knob-js95-value'></span>
		</xmp>
		<p>The result:
			<span id='knob-js95'
				class='mooknob rotary2'
				style='background:steelblue; margin-left:20px'
				data-monitor='knob-js95-value'
				aria-valuemin=-100
				aria-valuemax=100
				data-value=0
				data-forceint=1
				data-oncomplete='
					(function(){
						alert("My value is "+this.value)
					})
				'></span>
			&mdash; Value 
			<input type='text' value='' id='knob-js95-value'></span>
		</p>
	</section>	
	
	
	<section>
		<h2>Inline Graphics</h2>
		<p>
		A range of zero to 10, with some quick graphics.
		Added <code>data-scale=0.1</code> to allow greater mousemovements to have smaller effect,
		so the user has to drag further to twist the knob.
		Added <code>degreesoffset=180</code>, so that the pointer is initially pointing
		downwards.
		</p>
		<p>
		<xmp>
		<div style='position:relative; height:200px'>
			<span id='bg1' 
			style='position:absolute;top:0;background:url(knob_bg_164x165.png); width:164px; height:165px'></span>
			<span class='mooknob' id='fg1'
				data-addpointer='false'
				data-degreesoffset='180'
				data-scale='0.1'
				data-value='0'
				aria-valuemin='0'
				aria-valuemax='10'
				style='position:absolute;top:0;left:0;background:url(knob_fg_164x165.png); width:164px; height:165px'>
			</span>
		</div>
		</xmp>
		</p>
		
		<p>Result:</p>
		<div style='position:relative; height:200px'>
			<span id='bg2' style=' position:absolute;top:0;left:200px;background:url(knob_bg_164x165.png); width:164px; height:165px'></span>
			<span class='mooknob' 
				data-addpointer='false' 
				data-scale='0.01'
				data-value='0'
				data-monitor='volume'
				aria-valuemin='0'
				aria-valuemax='10'
				data-degreesoffset='180'
				id='fg2' 
				style='outline: 0;position:absolute;top:0;left:200px;background:url(knob_fg_164x165.png); width:164px; height:165px'>
			</span>
			<input type='text' id='volume'
				style='position:absolute; left: 400px; width:4em'
			/>
		</div>
	</section>	

	<section>
		<h2>Another</h2>
		<p>Result:</p>
		<div style='position:relative; height:200px'>
			<span id='bg3' style=' position:absolute;
				top:0; left:200px;
				width:120px; height:120px;
				background:url(knob_bg_120x120.png);
			'></span>
			<span class='mooknob' 
				id='fg3' 
				data-scale='0.01'
				data-value='0'
				data-addpointer='false' 
				data-monitor='volume2'
				aria-valuemin='0'
				aria-valuemax='10'
				data-degreesoffset='0'
				style='outline: 0; 
					position:absolute; 
					top:0; left:195px;
					width:130px; height:130px;
					background-color:transparent;
				'>
					<input type='text' 
						id='volume2'
						style='width:3em; border:0; font-weight:bold; background: transparent; font-size: 16px;'
					/>
				</span>
		</div>
	</section>

	<section>
		<h2>Background image and default pointer</h2>
		<p>Result:</p>
		<div style='position:relative; height:200px'>
			<span class='mooknob' 
				id='item5' 
				data-scale='0.01'
				data-value='0'
				data-monitor='volume5'
				aria-valuemin='0'
				aria-valuemax='10'
				data-degreesoffset='0'
				style='outline: 0; 
					position:absolute; 
					top:0; left:200px;
					width:120px; height:120px;
					background:url(knob_bg_120x120.png);
					font-size: 62px;
					text-align:center;
					font-weight: 900;
				'>
				</span>
				<input type='text' 
					id='volume5'
					style='width:3em; border:0; font-weight:bold; background: transparent; font-size: 16px;'
				/>
		</div>
	</section>
	
	</body>
</html>
	
